[
  {
    "step_title": "Welcome to Roost",
    "items": [
      {
        "type": "textfield",
        "desc": "Roost is a self-hosted media backend for Owl.\nIt handles Live TV, VOD, music, podcasts, and games.\n\nThis wizard will configure the basic settings. You can change them later in /etc/roost/roost.env.",
        "subitems": []
      }
    ]
  },
  {
    "step_title": "Media Library Path",
    "items": [
      {
        "type": "textfield",
        "desc": "Path to your media library (read-only). Roost will index and serve files from here.",
        "subitems": [
          {
            "key": "wizard_media_path",
            "desc": "Media library path (e.g. /volume1/Media)",
            "defaultValue": "/volume1/Media",
            "validator": {
              "allowBlank": false,
              "regex": {
                "expr": "^/",
                "errorText": "Path must be an absolute path starting with /"
              }
            }
          }
        ]
      }
    ]
  },
  {
    "step_title": "HTTP Port",
    "items": [
      {
        "type": "textfield",
        "desc": "The port Roost will listen on. Default is 7979. Change if you have a conflict.",
        "subitems": [
          {
            "key": "wizard_port",
            "desc": "HTTP port",
            "defaultValue": "7979",
            "validator": {
              "allowBlank": false,
              "regex": {
                "expr": "^[0-9]{4,5}$",
                "errorText": "Enter a valid port number (1024-65535)"
              }
            }
          }
        ]
      }
    ]
  },
  {
    "step_title": "Operating Mode",
    "items": [
      {
        "type": "combobox",
        "desc": "Private mode (default): self-hosted, no billing required.\nPublic mode: enables Stripe billing and CDN relay. For managed deployments only.",
        "subitems": [
          {
            "key": "wizard_mode",
            "desc": "Operating mode",
            "defaultValue": "private",
            "displayField": "text",
            "valueField": "value",
            "mode": "local",
            "store": [
              ["private", "Private (self-hosted, recommended)"],
              ["public", "Public (managed deployment with billing)"]
            ]
          }
        ]
      }
    ]
  },
  {
    "step_title": "Secret Key",
    "items": [
      {
        "type": "textfield",
        "desc": "A secret key used to sign authentication tokens. Use a long random string. You can generate one at: openssl rand -hex 32",
        "subitems": [
          {
            "key": "wizard_secret_key",
            "desc": "Secret key (min 32 characters)",
            "defaultValue": "",
            "validator": {
              "allowBlank": false,
              "minLength": 32
            }
          }
        ]
      }
    ]
  }
]
