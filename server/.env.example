# ╔═══════════════════════════════════════════════════════╗
# ║        ROOST — ENVIRONMENT CONFIGURATION REFERENCE    ║
# ╠═══════════════════════════════════════════════════════╣
# ║ Copy this to .env and fill in your values.            ║
# ║ .env is git-ignored. Never commit real secrets.       ║
# ║                                                       ║
# ║ PORT OFFSETS: Roost uses +1 from nSelf defaults       ║
# ║   to coexist with a Flock nSelf instance on the       ║
# ║   same machine during development.                    ║
# ╚═══════════════════════════════════════════════════════╝

ENV=dev
NSELF_APP_NAME=roost
NSELF_DOMAIN=roost.yourflock.org
PROJECT_NAME=roost
BASE_DOMAIN=roost.yourflock.org

# ──────────────────────────────────────────────
# Postgres — default nSelf port is 5432
# Roost offsets to 5433 to avoid conflict
# ──────────────────────────────────────────────
POSTGRES_PORT=5433
POSTGRES_DB=roost_dev
POSTGRES_USER=roost
POSTGRES_PASSWORD=CHANGE_ME

# ──────────────────────────────────────────────
# Hasura — default nSelf port is 8080
# Roost offsets to 8081
# ──────────────────────────────────────────────
HASURA_PORT=8081
HASURA_GRAPHQL_ADMIN_SECRET=CHANGE_ME
HASURA_JWT_KEY=CHANGE_ME

# ──────────────────────────────────────────────
# Auth — default nSelf port is 4000
# Roost offsets to 4001
# ──────────────────────────────────────────────
AUTH_PORT=4001

# ──────────────────────────────────────────────
# Nginx — default nSelf port is 80
# Roost offsets to 8082
# ──────────────────────────────────────────────
NGINX_PORT=8082

# ──────────────────────────────────────────────
# Roost API (Go service — port 3001)
# ──────────────────────────────────────────────
PORT=3001

# ──────────────────────────────────────────────
# Stripe (billing)
# ──────────────────────────────────────────────
STRIPE_SECRET_KEY=CHANGE_ME
STRIPE_WEBHOOK_SECRET=CHANGE_ME

# ──────────────────────────────────────────────
# JWT signing key for Roost API tokens
# Generate: openssl rand -hex 32
# ──────────────────────────────────────────────
JWT_SECRET=CHANGE_ME

# ── Sentry Error Tracking ─────────────────────────────────────────────────────
# Obtain from: https://sentry.io → Settings → Projects → roost-backend → DSN
# Leave empty to disable Sentry (useful for local development).
SENTRY_DSN=

# Git SHA or version tag for Sentry release tracking (set automatically in CI).
# Example: abc1234 or v1.2.3
SENTRY_RELEASE=

# Environment label sent to Sentry. One of: development, staging, production.
ROOST_ENV=development

# Redis — optional. If set, enables rate limiting in the auth service.
# Format: host:port (no redis:// prefix needed by go-redis options, but url parsing is supported).
REDIS_URL=localhost:6379
